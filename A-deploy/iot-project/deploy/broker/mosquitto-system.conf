# Mosquitto MQTT Broker Configuration - System Deployment
# IoT Project - Group A

# 监听所有网络接口的 1883 端口
listener 1883 0.0.0.0

# 允许的最大连接数
max_connections -1

# 禁止匿名连接
allow_anonymous false

# 密码文件路径（系统路径）
password_file /etc/mosquitto/password_file

# ACL 访问控制列表路径（系统路径）
acl_file /etc/mosquitto/acl

# 启用持久化
persistence true
persistence_location /var/lib/mosquitto/

# 自动保存间隔（秒）
autosave_interval 300

# 日志配置
log_dest file /var/log/mosquitto/mosquitto.log
log_dest stdout
log_type error
log_type warning
log_type notice
log_type information
log_timestamp true
log_timestamp_format %Y-%m-%dT%H:%M:%S

# 消息配置
max_packet_size 10485760
max_queued_messages 1000
max_keepalive 60
